{"version":3,"file":"main.js","sources":["get-user-result.js","game-model.js","abstract-view.js","stats-module-view.js","restart-modal-view.js","game-view-first.js","game-view-second.js","game-view-third.js","stats-level-view.js","header-level-view.js","footer-view.js","game-screen.js","intro-view.js","greeting-view.js","rules-view.js","error-view.js","adapt-server-data.js","loader.js","change-screen.js","router.js","main.js"],"sourcesContent":["export const Limit = {\n  LIVES: 3,\n  TIME: 30,\n  FAST_TIME: 10,\n  SLOW_TIME: 20,\n};\nexport const Answer = {\n  RIGHT: 100,\n  FAST_BONUS: 50,\n  SLOW_FINE: 50,\n};\nconst getUserResult = (answers, lives) => {\n  const LIVE_BONUS = 50;\n  let score = 0;\n  score = score + lives * LIVE_BONUS;\n\n  if (answers.length < 10 || lives < 0) {\n    return -1;\n  }\n  const positiveArrayAnswers = answers.filter((it) => {\n    return it.answer;\n  });\n  positiveArrayAnswers.forEach((it) => {\n    const time = Limit.TIME - it.time;\n    if (time < Limit.FAST_TIME) {\n      score = score + Answer.RIGHT + Answer.FAST_BONUS;\n    } else if (Limit.TIME >= time && time >= Limit.SLOW_TIME) {\n      score = score + Answer.RIGHT - Answer.SLOW_FINE;\n    } else {\n      score = score + Answer.RIGHT;\n    }\n  });\n\n  return score;\n};\n\nexport default getUserResult;\n","import {Limit} from './get-user-result.js';\nimport getUserResult from './get-user-result.js';\n\nconst headerState = {\n  lives: 3,\n  time: 30,\n};\nconst reduceLive = (state) => {\n  const lives = state.lives - 1;\n  return Object.assign({}, state, {\n    lives\n  });\n};\nconst generateAnswerObj = (answerResult, timeResult) => {\n  let result;\n  const timePlayer = Limit.TIME - timeResult;\n  if (answerResult) {\n    if (timePlayer < Limit.FAST_TIME) {\n      result = `fast`;\n    } else if (Limit.TIME >= timePlayer && timePlayer >= Limit.SLOW_TIME) {\n      result = `slow`;\n    } else {\n      result = `correct`;\n    }\n  } else {\n    result = `wrong`;\n  }\n  return {answer: answerResult, time: timeResult, statsResult: result};\n\n};\nconst tick = (state) => {\n  const time = state.time - 1;\n  return Object.assign({}, state, {\n    time\n  });\n};\nconst resetTimer = (state) => {\n  return Object.assign({}, state, {\n    time: 30,\n  });\n};\nexport default class GameModel {\n  constructor(questions, name) {\n    this.name = name;\n    this.questions = questions;\n    this.restart();\n  }\n  get state() {\n    return this._state;\n  }\n  get playerName() {\n    return this._name;\n  }\n  get lives() {\n    return this._state.lives;\n  }\n  get time() {\n    return this._state.time;\n  }\n  get currentActualQuestion() {\n    return this._actualQuestion;\n  }\n  get answers() {\n    return this._answers;\n  }\n  get userResult() {\n    return getUserResult(this._answers, this._state.lives);\n  }\n  addAnswer(answerResult) {\n    this._currentAnswer = answerResult;\n    this._answers.push(generateAnswerObj(this._currentAnswer, this._state.time));\n  }\n  restart() {\n    this._name = this.name;\n    this._questions = this.questions.slice();\n    this._state = Object.assign({}, headerState);\n    this._answers = [];\n  }\n  reduceLive() {\n    this._state = reduceLive(this._state);\n  }\n  getActualQuestion() {\n    this._actualQuestion = this._questions.shift();\n  }\n  isStillQuestion() {\n    return this._questions.length > 0;\n  }\n  resetTimer() {\n    this._state = resetTimer(this._state);\n  }\n  tick() {\n    this._state = tick(this._state);\n  }\n}\n","export default class AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Can't instantiate AbstractView, only concrete one`);\n    }\n  }\n  get render() {\n    throw new Error(`Template is required`);\n  }\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`div`);\n    this._element.innerHTML = this.render().trim();\n    this.bind();\n    return this._element;\n  }\n  bind() {}\n}\n","import AbstractView from './abstract-view.js';\nimport Router from './router.js';\n\nconst Bonus = {\n  FAST: 50,\n  SLOW: -50,\n  RIGHT: 100,\n  LIVE: 50\n};\nexport default class StatsModuleView extends AbstractView {\n  constructor(data) {\n    super();\n    this.data = data.reverse();\n  }\n  getTitle(stats, index) {\n    if (index === 0) {\n      return `<h1>${stats.result < 0 ? `Поражение!` : `Победа!`}</h1>`;\n    }\n    return ``;\n  }\n  userResultMarkup(stats, index) {\n    let fastAnswers = 0;\n    let slowAnswers = 0;\n    let correctAnswers = 0;\n\n    stats.answers.forEach((it) => {\n      if (it.statsResult === `fast`) {\n        fastAnswers++;\n        correctAnswers++;\n      } else if (it.statsResult === `slow`) {\n        slowAnswers++;\n        correctAnswers++;\n      } else if (it.statsResult === `correct`) {\n        correctAnswers++;\n      }\n    });\n\n    if (stats.result < 0) {\n      return `\n${this.getTitle(stats, index)}\n<table class=\"result__table\">\n\t<tr>\n\t\t<td class=\"result__number\">${index + 1}</td>\n\t\t<td>\n\t\t\t<ul class=\"stats\">\n\t\t\t\t${stats.answers.map((it) => `<li class=\"stats__result stats__result&#45;&#45;${it.statsResult}\"></li>`).join(``)}\n\t\t\t\t${new Array(10 - stats.answers.length)\n        .fill(`<li class=\"stats__result stats__result&#45;&#45;unknown\"></li>`).join(``)}\n\t\t\t</ul>\n\t\t</td>\n\t\t<td class=\"result__total\"></td>\n\t\t<td class=\"result__total  result__total--final\">fail</td>\n\t</tr>\n</table>\n`;\n    }\n    return `\n${this.getTitle(stats, index)}\n<table class=\"result__table\">\n\t<tr>\n\t\t<td class=\"result__number\">${index + 1}.</td>\n\t\t<td colspan=\"2\">\n\t\t\t<ul class=\"stats\">\n\t\t\t\t${stats.answers.map((it) => `<li class=\"stats__result stats__result&#45;&#45;${it.statsResult}\"></li>`).join(``)}\n\t\t\t\t${new Array(10 - stats.answers.length)\n      .fill(`<li class=\"stats__result stats__result&#45;&#45;unknown\"></li>`).join(``)}\n\t\t\t</ul>\n\t\t</td>\n\t\t<td class=\"result__points\">×&nbsp;${Bonus.RIGHT}</td>\n\t\t<td class=\"result__total\">\n\t\t\t${Bonus.RIGHT * correctAnswers}\n\t\t</td>\n\t</tr>\n\t<tr ${fastAnswers === 0 ? `style=\"display: none;\"` : ``}>\n\t\t<td></td>\n\t\t<td class=\"result__extra\">Бонус за скорость:</td>\n\t\t<td class=\"result__extra\">${fastAnswers}&nbsp;<span class=\"stats__result stats__result--fast\"></span></td>\n\t\t<td class=\"result__points\">×&nbsp;${Bonus.FAST}</td>\n\t\t<td class=\"result__total\">\n\t\t\t${Bonus.FAST * fastAnswers}\n\t\t</td>\n\t</tr>\n\t<tr ${Bonus.LIVE === 0 ? `style=\"display: none;\"` : ``}>\n\t\t<td></td>\n\t\t<td class=\"result__extra\">Бонус за жизни:</td>\n\t\t<td class=\"result__extra\">${stats.lives}&nbsp;<span class=\"stats__result stats__result--alive\"></span></td>\n\t\t<td class=\"result__points\">×&nbsp;${Bonus.LIVE}</td>\n\t\t<td class=\"result__total\">\n\t\t\t${Bonus.LIVE * stats.lives}\n\t\t</td>\n\t</tr>\n\t<tr ${slowAnswers === 0 ? `style=\"display: none;\"` : ``}>\n\t\t<td></td>\n\t\t<td class=\"result__extra\">Штраф за медлительность:</td>\n\t\t<td class=\"result__extra\">${slowAnswers}&nbsp;<span class=\"stats__result stats__result--slow\"></span></td>\n\t\t<td class=\"result__points\">×&nbsp;${Bonus.SLOW}</td>\n\t\t<td class=\"result__total\">\n\t\t\t${Bonus.SLOW * slowAnswers}\n\t\t</td>\n\t</tr>\n\t<tr>\n\t\t<td colspan=\"5\" class=\"result__total  result__total--final\">${stats.result}</td>\n\t</tr>\n</table>\n`;\n  }\n  render() {\n    return `\n<header class=\"header\">\n\t<div class=\"header__back\">\n\t\t<button class=\"back\">\n\t\t\t<img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n\t\t\t<img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n\t\t</button>\n\t</div>\n</header>\n<div class=\"result\">\n\t${this.data.map((it, index) => {\n    return `${this.userResultMarkup(it, index).trim()}`;\n  }).join(``)}\n</div>\n`;\n  }\n  bind() {\n    const buttonBackElement = this.element.querySelector(`button.back`);\n    buttonBackElement.addEventListener(`click`, () => {\n      Router.showGreeting();\n    });\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class RestartModalView extends AbstractView {\n  constructor() {\n    super();\n  }\n  render() {\n    return `\n    <form class=\"modal-confirm__inner\">\n      <button class=\"modal-confirm__close\" type=\"button\">Закрыть</button>\n      <h2 class=\"modal-confirm__title\">Подтверждение</h2>\n      <p class=\"modal-confirm__text\">Вы уверены что хотите начать игру заново?</p>\n      <div class=\"modal-confirm__btn-wrap\">\n        <button class=\"modal-confirm__btn modal-confirm__btn--confirm\">Ок</button>\n        <button class=\"modal-confirm__btn modal-confirm__btn--cancel\">Отмена</button>\n      </div>\n    </form>`;\n  }\n  onConfirm() {}\n  hideModal(evt) {\n    evt.preventDefault();\n    this.element.remove();\n  }\n  bind() {\n    const confirmModalElement = this.element.querySelector(`.modal-confirm__btn--confirm`);\n    const closeModalElement = this.element.querySelector(`.modal-confirm__close`);\n    const cancelModalElement = this.element.querySelector(`.modal-confirm__btn--cancel`);\n\n    confirmModalElement.addEventListener(`click`, (evt) => {\n      this.hideModal(evt);\n      this.onConfirm();\n    });\n    cancelModalElement.addEventListener(`click`, (evt) => {\n      this.hideModal(evt);\n    });\n    closeModalElement.addEventListener(`click`, (evt) => {\n      this.hideModal(evt);\n    });\n  }\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`section`);\n    this._element.classList.add(`modal-confirm`);\n    this._element.classList.add(`modal-confirm__wrap`);\n    this._element.innerHTML = this.render().trim();\n    this.bind();\n    return this._element;\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class GameViewFirst extends AbstractView {\n  constructor(question) {\n    super();\n    this.question = question;\n    this.enteredAnswers = [];\n    this.userAnswers = [];\n  }\n  render() {\n    return `\n  <div class=\"game\">\n    <p class=\"game__task\">${this.question.question}</p>\n    <form class=\"game__content\">\n    ${this.question.imagesPathArray.map((it, index) => `\n        <div class=\"game__option\">\n        <img src=\"${it.url}\" alt=\"Option ${index}\" width=\"${it.width}\" height=\"${it.height}\">\n        <label class=\"game__answer game__answer--photo\">\n          <input name=\"image${index}\" type=\"radio\" value=\"photo\">\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer game__answer--paint\">\n          <input name=\"image${index}\" type=\"radio\" value=\"painting\">\n          <span>Рисунок</span>\n        </label>\n      </div>`).join(``)}\n    </form>\n  </div>`;\n  }\n  onAnswer() {}\n  bind() {\n    const formElement = this.element.querySelector(`.game__content`);\n    formElement.addEventListener(`change`, (evt) => {\n      const answerKey = evt.target.getAttribute(`name`);\n      const answerValue = evt.target.value;\n      this.checkAnswer(answerKey, answerValue);\n    });\n  }\n  checkCountOfAnswers(clickedAnswerKey, clickedAnswerValue) {\n    if (this.enteredAnswers.indexOf(clickedAnswerKey) < 0) {\n      this.userAnswers.push({\n        answerKey: clickedAnswerKey,\n        answerValue: clickedAnswerValue,\n      });\n      this.enteredAnswers.push(clickedAnswerKey);\n    } else {\n      this.userAnswers = [{\n        answerKey: clickedAnswerKey,\n        answerValue: clickedAnswerValue,\n      }];\n    }\n    return this.enteredAnswers.length;\n  }\n  checkAnswer(answerKey, answerValue) {\n    const minNumberAnswers = 2;\n    const countOfAnswers = this.checkCountOfAnswers(answerKey, answerValue);\n    if (countOfAnswers === minNumberAnswers) {\n      const isCorrectAnswers = this.userAnswers.every((it) => {\n        return this.question.answers[it.answerKey][it.answerValue];\n      });\n      this.onAnswer(isCorrectAnswers);\n    }\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class GameViewSecond extends AbstractView {\n  constructor(question) {\n    super();\n    this.question = question;\n  }\n  render() {\n    return `\n  <div class=\"game\">\n    <p class=\"game__task\">${this.question.question}</p>\n    <form class=\"game__content  game__content--wide\">\n    ${this.question.imagesPathArray.map((it, index) => `\n      <div class=\"game__option\">\n        <img src=\"${it.url}\" alt=\"Option ${index}\" width=\"${it.width}\" height=\"${it.height}\">\n        <label class=\"game__answer  game__answer--photo\">\n          <input name=\"image${index}\" type=\"radio\" value=\"photo\">\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer  game__answer--wide  game__answer--paint\">\n          <input name=\"image${index}\" type=\"radio\" value=\"painting\">\n          <span>Рисунок</span>\n        </label>\n      </div>`).join(``)}\n    </form>\n  </div>`;\n  }\n  onAnswer() {}\n  bind() {\n    const formElement = this.element.querySelector(`.game__content`);\n    formElement.addEventListener(`change`, (evt) => {\n      const answerKey = evt.target.getAttribute(`name`);\n      const answerValue = evt.target.value;\n      this.checkAnswer(answerKey, answerValue);\n    });\n  }\n  checkAnswer(answerKey, answerValue) {\n    const isCorrectAnswers = !!this.question.answers[answerKey][answerValue];\n    this.onAnswer(isCorrectAnswers);\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class GameViewThird extends AbstractView {\n  constructor(question) {\n    super();\n    this.question = question;\n  }\n  render() {\n    return `\n  <div class=\"game\">\n      <p class=\"game__task\">${this.question.question}</p>\n      <form class=\"game__content  game__content--triple\">\n      ${this.question.imagesPathArray.map((it, index) => `\n          <div class=\"game__option\">\n            <img src=\"${it.url}\" data-name=\"image${index}\" alt=\"Option 1\" width=\"${it.width}\" height=\"${it.height}\">\n          </div>`).join(``)}\n      </form>\n   </div>`;\n  }\n  onAnswer() {}\n  bind() {\n    const {image0, image1, image2} = this.question.answers;\n    const answers = [image0, image1, image2];\n    const answerValue = answers.filter((it) => it[`photo`] === 1).length === 1 ? `photo` : `painting`;\n    const formElement = this.element.querySelector(`.game__content`);\n    formElement.addEventListener(`click`, (evt) => {\n      if (evt.target.classList.contains(`game__option`)) {\n        const answerKey = evt.target.querySelector(`img`).getAttribute(`data-name`);\n        this.checkAnswer(answerKey, answerValue);\n      }\n    });\n  }\n  checkAnswer(answerKey, answerValue) {\n    const isCorrectAnswers = !!this.question.answers[answerKey][answerValue];\n    this.onAnswer(isCorrectAnswers);\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class StatsLevelView extends AbstractView {\n  constructor(answers) {\n    super();\n    this.answers = answers;\n  }\n  render() {\n    return `<div class=\"stats\">\n    <ul class=\"stats\">\n    ${this.answers.map((it) => `<li class=\"stats__result stats__result&#45;&#45;${it.statsResult}\"></li>`).join(``)}\n    ${new Array(10 - this.answers.length)\n      .fill(`<li class=\"stats__result stats__result&#45;&#45;unknown\"></li>`).join(``)}\n    </ul>\n  </div>`;\n  }\n}\n","import AbstractView from './abstract-view.js';\nimport {Limit} from './get-user-result.js';\n\nexport default class HeaderLevelView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n  render() {\n    return `\n<header class=\"header\">\n\t<div class=\"header__back\">\n\t\t<button class=\"back\">\n\t\t\t<img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n\t\t\t<img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n\t\t</button>\n\t</div>\n\t<h1 class=\"game__timer\">${this.state.time}</h1>\n\t<div class=\"game__lives\">\n\t\t${new Array(Limit.LIVES - this.state.lives)\n      .fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n\t\t${new Array(this.state.lives)\n      .fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n\t</div>\n</header>\n`;\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class FooterView extends AbstractView {\n  constructor() {\n    super();\n  }\n  render() {\n    return `\n    <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n    <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n    <div class=\"footer__social-links\">\n      <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n      <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n      <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n      <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n    </div>`;\n  }\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`footer`);\n    this._element.classList.add(`footer`);\n    this._element.innerHTML = this.render().trim();\n    return this._element;\n  }\n}\n","import Router from './router.js';\nimport RestartModalView from './restart-modal-view.js';\nimport GameViewFirst from './game-view-first.js';\nimport GameViewSecond from './game-view-second.js';\nimport GameViewThird from './game-view-third.js';\nimport StatsLevelView from './stats-level-view.js';\nimport HeaderLevelView from './header-level-view.js';\nimport FooterView from './footer-view.js';\n\nconst ONE_SECOND = 1000;\nconst BLINK_TIME = 5;\nconst QuestionType = {\n  TWO_OF_TWO: `two-of-two`,\n  TINDER_LIKE: `tinder-like`,\n  ONE_OF_THREE: `one-of-three`,\n};\nexport default class GameScreen {\n  constructor(model) {\n    this.model = model;\n    this.restartModal = new RestartModalView();\n    this.restartModal.onConfirm = () => {\n      this.removeListener();\n      this.stopTimer();\n      Router.showGreeting();\n    };\n    this.getHandler(this.restartModal);\n    this.header = new HeaderLevelView(this.model.state);\n    this.stats = new StatsLevelView(this.model.answers);\n    this._interval = null;\n    this.addListener();\n  }\n  getHandler(setThis) {\n    this.onButtonBackClick = (evt) => {\n      const target = evt.target;\n      const buttonBack = target.closest(`button.back`);\n\n      if (buttonBack) {\n        const containerElement = document.querySelector(`.central`);\n        containerElement.insertAdjacentElement(`beforeBegin`, setThis.element);\n      }\n    };\n  }\n  stopTimer() {\n    clearInterval(this._interval);\n  }\n  resetTimer() {\n    this.model.resetTimer();\n  }\n  startTimer() {\n    this._interval = setTimeout(() => {\n      this.model.tick();\n      this.updateHeader();\n      if (this.model.time === BLINK_TIME) {\n        this.setBlinkMode(true);\n      }\n      if (this.model.time === 0) {\n        this.checkAnswer(false);\n      } else {\n        this.startTimer();\n      }\n    }, ONE_SECOND);\n  }\n  updateStats() {\n    const stats = new StatsLevelView(this.model.answers);\n    this.stats.element.replaceWith(stats.element);\n    this.stats = stats;\n  }\n  getStats() {\n    const footerElement = document.querySelector(`.footer`);\n    footerElement.insertAdjacentElement(`beforeBegin`, this.stats.element);\n  }\n  updateHeader() {\n    const header = new HeaderLevelView(this.model.state);\n    this.header.element.replaceWith(header.element);\n    this.header = header;\n  }\n  getHeader() {\n    const containerElement = document.querySelector(`.central`);\n    containerElement.insertAdjacentElement(`afterbegin`, this.header.element);\n  }\n  getGameModeView(countOfQuestions) {\n    let result;\n    switch (countOfQuestions) {\n      case QuestionType.TWO_OF_TWO :\n        result = new GameViewFirst(this.model.currentActualQuestion);\n        break;\n      case QuestionType.TINDER_LIKE :\n        result = new GameViewSecond(this.model.currentActualQuestion);\n        break;\n      case QuestionType.ONE_OF_THREE :\n        result = new GameViewThird(this.model.currentActualQuestion);\n        break;\n    }\n    return result;\n  }\n  updateGameBody() {\n    const gameBody = this.getGameModeView(this.model.currentActualQuestion.type);\n    gameBody.onAnswer = (isCorrectAnswers) => {\n      this.checkAnswer(isCorrectAnswers);\n    };\n    this.level.element.replaceWith(gameBody.element);\n    this.level = gameBody;\n  }\n  getGameBody() {\n    const footer = new FooterView();\n    const mainElement = document.querySelector(`.central`);\n    this.level = this.getGameModeView(this.model.currentActualQuestion.type);\n    this.level.onAnswer = (isCorrectAnswers) => {\n      this.checkAnswer(isCorrectAnswers);\n    };\n    mainElement.innerHTML = ``;\n    mainElement.appendChild(this.level.element);\n    mainElement.insertAdjacentElement(`beforeend`, footer.element);\n  }\n  showStatsView() {\n    this.removeListener();\n    Router.showStats(this.model);\n  }\n  setBlinkMode(mode) {\n    document.querySelector(`.central`).classList.toggle(`blink`, mode);\n  }\n  checkAnswer(isCorrect) {\n    this.stopTimer();\n    this.setBlinkMode(false);\n    this.model.addAnswer(isCorrect);\n    this.updateStats();\n    if (!isCorrect) {\n      this.model.reduceLive();\n      if (this.model.lives >= 0) {\n        this.updateHeader();\n      }\n    }\n    this.resetTimer();\n    if (this.model.isStillQuestion() && this.model.lives >= 0) {\n      this.showGame();\n    } else {\n      this.showStatsView();\n    }\n  }\n  refreshData(isFirstGame) {\n    if (isFirstGame) {\n      this.model.restart();\n    }\n    this.model.getActualQuestion();\n  }\n  addListener() {\n    document.addEventListener(`click`, this.onButtonBackClick);\n  }\n  removeListener() {\n    document.removeEventListener(`click`, this.onButtonBackClick);\n  }\n  showGame(isFirstGame) {\n    this.refreshData(isFirstGame);\n    if (isFirstGame) {\n      this.getGameBody();\n      this.getHeader();\n      this.getStats();\n    } else {\n      this.updateGameBody();\n      this.updateHeader();\n    }\n    this.startTimer();\n  }\n}\n","import AbstractView from './abstract-view.js';\nimport Router from './router.js';\n\nexport default class IntroView extends AbstractView {\n  constructor() {\n    super();\n  }\n  render() {\n    return `\n<div id=\"intro\" class=\"intro\">\n  <h1 class=\"intro__asterisk\">*</h1>\n  <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n</div>`;\n  }\n  bind() {\n    const triggerElement = this.element.querySelector(`.intro__asterisk`);\n    triggerElement.addEventListener(`click`, () => {\n      Router.showGreeting();\n    });\n  }\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`div`);\n    this._element.classList.add(`central__content`);\n    this._element.setAttribute(`id`, `main`);\n    this._element.innerHTML = this.render().trim();\n    this.bind();\n    return this._element;\n  }\n}\n","import AbstractView from './abstract-view.js';\nimport Router from './router.js';\n\nexport default class GreetingView extends AbstractView {\n  constructor() {\n    super();\n  }\n  render() {\n    return `\n<div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n  <h1 class=\"greeting__asterisk\">*</h1>\n  <div class=\"greeting__challenge\">\n    <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n    <p>Правила игры просты.<br>\n      Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br>\n      Задача кажется тривиальной, но не думай, что все так просто.<br>\n      Фотореализм обманчив и коварен.<br>\n      Помни, главное — смотреть очень внимательно.</p>\n  </div>\n<div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>`;\n  }\n  bind() {\n    const triggerElement = this.element.querySelector(`.greeting__continue`);\n    triggerElement.addEventListener(`click`, () => {\n      Router.showRules();\n    });\n  }\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`div`);\n    this._element.classList.add(`greeting`);\n    this._element.classList.add(`central--blur`);\n    this._element.innerHTML = this.render().trim();\n    this.bind();\n    return this._element;\n  }\n}\n","import AbstractVIew from './abstract-view.js';\nimport Router from './router.js';\n\nexport default class RulesView extends AbstractVIew {\n  constructor() {\n    super();\n  }\n  render() {\n    return `\n  <header class=\"header\">\n    <div class=\"header__back\">\n      <button class=\"back\">\n        <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n        <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n      </button>\n    </div>\n  </header>\n  <div class=\"rules\">\n    <h1 class=\"rules__title\">Правила</h1>\n    <p class=\"rules__description\">Угадай 10 раз для каждого изображения фото <img\n      src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n      src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n      Фотографиями или рисунками могут быть оба изображения.<br>\n      На каждую попытку отводится 30 секунд.<br>\n      Ошибиться можно не более 3 раз.<br>\n      <br>\n      Готовы?\n    </p>\n    <form class=\"rules__form\">\n      <input class=\"rules__input\" type=\"text\" placeholder=\"Ваше Имя\">\n      <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n    </form>\n  </div>`;\n  }\n  bind() {\n    let userName;\n    const rulesInputElement = this.element.querySelector(`.rules__input`);\n    rulesInputElement.addEventListener(`keyup`, (evt) => {\n      buttonElement.disabled = !(evt.target.value.length > 0);\n    });\n    rulesInputElement.addEventListener(`change`, (evt) => {\n      userName = evt.target.value.trim();\n    });\n    const buttonElement = this.element.querySelector(`.rules__button`);\n\n    buttonElement.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n      Router.showGameScreen(true, userName);\n    });\n    const buttonBackElement = this.element.querySelector(`button.back`);\n    buttonBackElement.addEventListener(`click`, () => {\n      Router.showGreeting();\n    });\n\n  }\n}\n","import AbstractView from './abstract-view.js';\n\nexport default class ErrorView extends AbstractView {\n  constructor(error) {\n    super();\n    this.error = error;\n  }\n  render() {\n    return `\n<section class=\"modal-error modal-error__wrap\">\n\t<div class=\"modal-error__inner\">\n\t\t<h2 class=\"modal-error__title\">Произошла ошибка!</h2>\n\t\t<p class=\"modal-error__text\">${this.error.message}</p>\n\t</div>\n</section>\n`;\n  }\n  bind() {}\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = document.createElement(`section`);\n    this._element.classList.add(`modal-error`);\n    this._element.classList.add(`modal-error__wrap`);\n    this._element.innerHTML = this.render().trim();\n    this.bind();\n    return this._element;\n  }\n}\n","const UserAnswer = {\n  CORRECT: true,\n  WRONG: false,\n};\nconst preprocessAnswers = (answers) => {\n  let obj = {};\n  answers.forEach((it, index) => {\n    obj[`image${index}`] = {\n      'photo': it.type === `photo` ? UserAnswer.CORRECT : UserAnswer.WRONG,\n      'painting': it.type === `painting` ? UserAnswer.CORRECT : UserAnswer.WRONG,\n    };\n  });\n  return obj;\n};\nconst getImagePathArray = (level) => {\n  return level.answers.map((it) => {\n    return {\n      url: it.image.url,\n      width: it.image.width,\n      height: it.image.height,\n    };\n  });\n};\nconst adaptServerData = (data) => {\n  for (const level of Object.values(data)) {\n    level.imagesPathArray = getImagePathArray(level);\n    level.answers = preprocessAnswers(level.answers);\n  }\n  return data;\n};\nexport default adaptServerData;\n","import adaptServerData from './adapt-server-data.js';\n\nconst ServerUrl = {\n  QUESTIONS: `https://es.dump.academy/pixel-hunter/questions`,\n  STATS: `https://es.dump.academy/pixel-hunter/stats`,\n};\nconst DEFAULT_NAME = `Pistolet`;\nconst APP_ID = 172395;\nconst checkStatus = (response) => {\n  if (response.ok) {\n    return response;\n  } else {\n    throw new Error(`${response.status}: ${response.statusText}`);\n  }\n};\nconst toJSON = (res) => res.json();\n\nexport default class Loader {\n  static loadData() {\n    return fetch(`${ServerUrl.QUESTIONS}`).then(checkStatus).then(toJSON).then(adaptServerData);\n  }\n\n  static loadResults(name = DEFAULT_NAME) {\n    return fetch(`${ServerUrl.STATS}/${APP_ID}-${name}`).then(checkStatus).then(toJSON);\n  }\n\n  static saveResults(data, name = DEFAULT_NAME) {\n    data = Object.assign({name}, data);\n    const requestSettings = {\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    return fetch(`${ServerUrl.STATS}/${APP_ID}-${name}`, requestSettings).then(checkStatus);\n  }\n}\n","import FooterView from './footer-view.js';\n\nconst footer = new FooterView();\nconst changeScreen = (element) => {\n  const mainElement = document.querySelector(`.central`);\n  mainElement.innerHTML = ``;\n  mainElement.appendChild(element);\n  mainElement.insertAdjacentElement(`beforeend`, footer.element);\n};\nexport default changeScreen;\n","import GameModel from './game-model.js';\nimport StatsModuleView from './stats-module-view.js';\nimport GameScreen from './game-screen.js';\nimport IntroView from './intro-view.js';\nimport GreetingView from './greeting-view.js';\nimport RulesView from './rules-view.js';\nimport ErrorView from './error-view.js';\nimport Loader from './loader.js';\nimport changeScreen from './change-screen.js';\n\nlet questData;\nexport default class Router {\n  static loadData() {\n    Loader.loadData().\n    then((data) => {\n      questData = data;\n    }).\n    then(() => Router.showIntro()).\n    catch(Router.showError);\n  }\n  static showIntro() {\n    const intro = new IntroView();\n    changeScreen(intro.element);\n  }\n  static showGreeting() {\n    const greeting = new GreetingView();\n    changeScreen(greeting.element);\n  }\n  static showRules() {\n    const rules = new RulesView();\n    changeScreen(rules.element);\n  }\n  static showGameScreen(isFirstGame, playerName) {\n    const gameScreen = new GameScreen(new GameModel(questData, playerName));\n    gameScreen.showGame(isFirstGame);\n  }\n  static showStats(model) {\n    const resultObject = {\n      answers: model.answers,\n      lives: model.lives,\n      result: model.userResult,\n    };\n    const playerName = model.playerName;\n    Loader.saveResults(resultObject, playerName).\n    then(() => Loader.loadResults(playerName)).\n    then((data) => {\n      const statsModuleView = new StatsModuleView(data);\n      changeScreen(statsModuleView.element);\n    }).\n    catch(Router.showError);\n  }\n  static showError(err) {\n    const errorScreen = new ErrorView(err);\n    const containerElement = document.querySelector(`.central`);\n    containerElement.insertAdjacentElement(`beforeBegin`, errorScreen.element);\n  }\n}\n","import Router from './router.js';\n\nRouter.loadData();\n"],"names":["AbstractVIew"],"mappings":"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"}